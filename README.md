# ç¥ç¦ç‚¹äº®ä¸­å›½åœ°å›¾

## é¡¹ç›®ç®€ä»‹
ç¥ç¦ç‚¹äº®ä¸­å›½åœ°å›¾æ˜¯ä¸€ä¸ªåŸºäºSpring Bootå¼€å‘çš„Webåº”ç”¨ï¼Œç”¨æˆ·å¯ä»¥åœ¨è®¿é—®ç½‘ç«™æ—¶è‡ªåŠ¨å®šä½æ‰€åœ¨åŸå¸‚ï¼Œè¾“å…¥ç¥ç¦è¯è¯­æˆ–ä¸Šä¼ ç²¾å½©ç¬é—´çš„ç…§ç‰‡åï¼Œåœ°å›¾ä¸Šå¯¹åº”çš„åŸå¸‚åŒºåŸŸä¼šè¢«ç‚¹äº®æˆæ¸©æš–çš„é‡‘è‰²ã€‚é¼ æ ‡ç§»åŠ¨åˆ°åŸå¸‚ä¸Šæ–¹è¿˜èƒ½çœ‹åˆ°å†å²ç•™è¨€è®°å½•ï¼Œä¸ºäº†ä¿è¯å†…å®¹è´¨é‡ï¼Œåå°æ¥å…¥äº†AIå¤§æ¨¡å‹å¯¹è¾“å…¥çš„æ–‡å­—å’Œå›¾ç‰‡è¿›è¡Œæƒ…æ„Ÿåˆ¤æ–­ï¼Œç¡®ä¿åªæœ‰æ¸©æš–ç§¯æçš„ç¥ç¦å†…å®¹æ‰èƒ½å­˜å…¥æ•°æ®åº“ã€‚

## æ ¸å¿ƒåŠŸèƒ½
- ğŸ“ è‡ªåŠ¨å®šä½ç”¨æˆ·æ‰€åœ¨åŸå¸‚
- âœï¸ ç¥ç¦è¯è¯­è¾“å…¥ä¸å±•ç¤º
- ğŸ“¸ ç²¾å½©ç¬é—´ç…§ç‰‡ä¸Šä¼ 
- ğŸ—ºï¸ ä¸­å›½åœ°å›¾å¯è§†åŒ–å±•ç¤ºï¼ŒåŸå¸‚æ ¹æ®ç¥ç¦æ•°é‡åŠ¨æ€å˜è‰²
- ğŸ§  AIæƒ…æ„Ÿåˆ¤æ–­ï¼Œè¿‡æ»¤ä¸å’Œè°å†…å®¹
- ğŸ’¾ æ•°æ®æŒä¹…åŒ–å­˜å‚¨
- ğŸ“¦ å›¾ç‰‡å¯¹è±¡å­˜å‚¨

## æŠ€æœ¯æ ˆ
- **åç«¯æ¡†æ¶**: Spring Boot
- **å‰ç«¯æŠ€æœ¯**: HTML, CSS, JavaScript, ECharts
- **æ•°æ®åº“**: MySQL
- **ORMæ¡†æ¶**: MyBatis Plus
- **å¯¹è±¡å­˜å‚¨**: MinIO
- **AIæœåŠ¡**: DeepSeekå¤§æ¨¡å‹
- **åœ°å›¾æœåŠ¡**: é«˜å¾·åœ°å›¾API

## é¡¹ç›®ç»“æ„
```
src/main/java/com/NewYearBlessings/
â”œâ”€â”€ common/           # å…¬å…±å·¥å…·ç±»
â”œâ”€â”€ config/           # é…ç½®ç±»
â”œâ”€â”€ controller/       # æ§åˆ¶å™¨
â”œâ”€â”€ dto/              # æ•°æ®ä¼ è¾“å¯¹è±¡
â”œâ”€â”€ entity/           # å®ä½“ç±»
â”œâ”€â”€ enums/            # æšä¸¾ç±»
â”œâ”€â”€ exception/        # å¼‚å¸¸å¤„ç†
â”œâ”€â”€ interceptor/      # æ‹¦æˆªå™¨
â”œâ”€â”€ mapper/           # Mapperæ¥å£
â”œâ”€â”€ service/          # æœåŠ¡å±‚
â””â”€â”€ vo/               # è§†å›¾å¯¹è±¡
```

## ç¯å¢ƒå‡†å¤‡
1. JDK 1.8+ æˆ– OpenJDK 8+
2. Maven 3.6+
3. MySQL 5.7+ æˆ– 8.0+
4. MinIO æœåŠ¡
5. é«˜å¾·åœ°å›¾ API å¯†é’¥
6. DeepSeek API å¯†é’¥

## å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†é¡¹ç›®
```bash
git clone <é¡¹ç›®ä»“åº“åœ°å€>
cd NewYearBlessings
```

### 2. ä¿®æ”¹é…ç½®æ–‡ä»¶

#### 2.1 æ•°æ®åº“é…ç½®
ç¼–è¾‘ `src/main/resources/application.yml` æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ä¿¡æ¯ï¼š
```yaml
spring:
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/newyear_blessing?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai
    username: <ä½ çš„æ•°æ®åº“ç”¨æˆ·å>
    password: <ä½ çš„æ•°æ®åº“å¯†ç >
```

#### 2.2 MinIOé…ç½®
åœ¨ `src/main/resources/application.yml` æ–‡ä»¶ä¸­é…ç½®MinIOè¿æ¥ä¿¡æ¯ï¼š
```yaml
minio:
  endpoint: <MinIOæœåŠ¡åœ°å€>
  port: <MinIOæœåŠ¡ç«¯å£>
  accessKey: <MinIOè®¿é—®å¯†é’¥>
  secretKey: <MinIOç§˜å¯†å¯†é’¥>
  secure: false
  bucketName: "newyearblessings"
  downloadDir: "/data/images"
```

#### 2.3 é«˜å¾·åœ°å›¾APIé…ç½®
åœ¨ `src/main/resources/application.yml` æ–‡ä»¶ä¸­é…ç½®é«˜å¾·åœ°å›¾APIå¯†é’¥ï¼š
```yaml
newyear-blessings:
  amap:
    key: <ä½ çš„é«˜å¾·åœ°å›¾APIå¯†é’¥>
    security-js-code: <ä½ çš„é«˜å¾·åœ°å›¾å®‰å…¨å¯†é’¥>
```

#### 2.4 DeepSeek APIé…ç½®
åœ¨ `src/main/resources/application.yml` æ–‡ä»¶ä¸­é…ç½®DeepSeek APIå¯†é’¥ï¼š
```yaml
newyear-blessings:
  deepseek:
    api-key: <ä½ çš„DeepSeek APIå¯†é’¥>
```

### 3. æ•°æ®åº“å‡†å¤‡

#### 3.1 åˆ›å»ºæ•°æ®åº“
```sql
CREATE DATABASE newyear_blessing CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;
```

#### 3.2 æ‰§è¡ŒSQLè„šæœ¬
æ‰§è¡Œ `src/main/resources/db/ddl.sql` æ–‡ä»¶ï¼Œåˆ›å»ºæ‰€éœ€çš„æ•°æ®è¡¨ï¼š
```bash
mysql -u <ç”¨æˆ·å> -p newyear_blessing < src/main/resources/db/ddl.sql
```

### 4. è¿è¡Œé¡¹ç›®

#### 4.1 ä½¿ç”¨Mavenå‘½ä»¤è¿è¡Œ
```bash
mvn spring-boot:run
```

#### 4.2 è®¿é—®åº”ç”¨
é¡¹ç›®å¯åŠ¨æˆåŠŸåï¼Œæµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€åº”ç”¨é¡µé¢ï¼Œæˆ–è€…æ‰‹åŠ¨è®¿é—®ï¼š
```
http://localhost:8081
```

## åŠŸèƒ½æ¨¡å—è¯´æ˜

### 1. åœ°å›¾å¯è§†åŒ–
- ä½¿ç”¨DataVæ•°æ®å¯è§†åŒ–å¹³å°æä¾›çš„ä¸­å›½åœ°å›¾æ•°æ®
- åœ°å›¾æ•°æ®åœ°å€ï¼šhttps://geo.datav.aliyun.com/areas_v3/bound/100000_full_city.json
- åŸå¸‚æ ¹æ®ç¥ç¦æ•°é‡åŠ¨æ€å˜è‰²ï¼Œç¥ç¦è¶Šå¤šé¢œè‰²è¶Šæ·±

### 2. ç”¨æˆ·åœ°åŒºè·å–
- ä½¿ç”¨æµè§ˆå™¨çš„ `navigator.geolocation` æ–¹æ³•è·å–ç”¨æˆ·ç»çº¬åº¦
- è°ƒç”¨é«˜å¾·åœ°å›¾é€†ä½ç½®ç¼–ç APIè·å–ç”¨æˆ·æ‰€åœ¨åŸå¸‚

### 3. AIæƒ…æ„Ÿåˆ¤æ–­
- ç”¨æˆ·æäº¤ç¥ç¦æ—¶ï¼Œåå°è°ƒç”¨DeepSeekå¤§æ¨¡å‹è¿›è¡Œæƒ…æ„Ÿåˆ†æ
- ä»…å°†ç§¯ææ­£é¢çš„ç¥ç¦å†…å®¹å­˜å…¥æ•°æ®åº“
- å¯¹ç”¨æˆ·è¿›è¡Œç›¸åº”çš„æç¤ºåé¦ˆ

### 4. å›¾ç‰‡ä¸Šä¼ ä¸å­˜å‚¨
- æ”¯æŒä¸Šä¼ è®°å½•ç²¾å½©ç¬é—´çš„ç…§ç‰‡
- å›¾ç‰‡å­˜å‚¨åœ¨MinIOå¯¹è±¡å­˜å‚¨æœåŠ¡
- æ•°æ®åº“ä»…å­˜å‚¨å›¾ç‰‡è·¯å¾„ä¿¡æ¯

## æ³¨æ„äº‹é¡¹
1. ç¡®ä¿MinIOæœåŠ¡å·²å¯åŠ¨ï¼Œä¸”é…ç½®çš„bucketå·²å­˜åœ¨
2. ç¡®ä¿å·²æ­£ç¡®é…ç½®æ‰€æœ‰APIå¯†é’¥ï¼Œå¦åˆ™éƒ¨åˆ†åŠŸèƒ½å¯èƒ½æ— æ³•æ­£å¸¸ä½¿ç”¨
3. é¦–æ¬¡è¿è¡Œé¡¹ç›®æ—¶ï¼Œå»ºè®®æ‰§è¡Œ `mvn clean install` ç¡®ä¿ä¾èµ–æ­£ç¡®å®‰è£…
4. é¡¹ç›®é»˜è®¤ä½¿ç”¨8080ç«¯å£ï¼Œè‹¥è¯¥ç«¯å£å·²è¢«å ç”¨ï¼Œå¯åœ¨application.ymlä¸­ä¿®æ”¹

## å¼€å‘è¯´æ˜
- é¡¹ç›®ä½¿ç”¨Spring Bootæ¡†æ¶å¼€å‘
- å‰ç«¯é¡µé¢ä½äº `src/main/resources/static/index.html`
- æ ¸å¿ƒä¸šåŠ¡é€»è¾‘ä½äº `controller` å’Œ `service` åŒ…ä¸­
- æ•°æ®åº“æ“ä½œä½¿ç”¨MyBatis Plusæ¡†æ¶

## è®¸å¯è¯
[MIT License](LICENSE)